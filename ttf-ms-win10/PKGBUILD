# Maintainer: Michael Lass <bevan@bi-co.net>
# Maintainer: Doug Newgard <scimmia at archlinux dot info>
# Contributor: reflexing <reflexing@reflexing.ru>

# Instructions were copied from ttf-ms-win8 and slightly modified:
#
# BUILD INSTRUCTIONS:
# -------------------
#
# Please note, that usage of Microsoft fonts outside running Windows
# system is prohibited by EULA (although in certain countries EULA is invalid).
# Please consult Microsoft license before using fonts.
#
# You can acquire fonts either from an installed and up-to-date Windows 10
# system or the most recent install medium.
#
# On the installed Windows 10 system fonts are usually located in
#       C:\Windows\Fonts
# and license file is
#       C:\Windows\System32\Licenses\neutral\_Default\Core\license.rtf
#
# How to acquire fonts from Windows 10 install medium:
#
#    You can freely download the Windows 10 Enterprise 90-day evaluation from:
#
#       http://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise
#
#    Fonts are located in 'sources/install.wim' file on the ISO, which
#    is a 'Windows Imaging Format' (WIM) archive.
#
#    You can extract WIM using wimextract ('wimlib' package) or 7z ('p7zip').
#
#    Put the following script together with previously extracted
#    'install.wim' and execute:
#
#       wimextract install.wim 1 /Windows/{Fonts/"*".{ttf,ttc},System32/Licenses/neutral/"*"/"*"/license.rtf} --dest-dir fonts
#
#    Fonts and license will be located in the 'fonts' dir.
#
# You need all files listed in the _ttf_ms_win10[_*] arrays.Place them in the
# same directory as this PKGBUILD file, then run makepkg.

pkgbase=ttf-ms-win10
pkgname=($pkgbase{,-japanese,-korean,-sea,-thai,-zh_cn,-zh_tw,-other})
pkgver=10.0.17763.1
pkgrel=1
arch=(any)
url='http://www.microsoft.com/typography/fonts/product.aspx?PID=164'
license=(custom)
depends=(fontconfig xorg-fonts-encodings xorg-mkfontscale xorg-mkfontdir)
provides=(ttf-font)
conflicts=(ttf-vista-fonts)

#_ttf_ms_win10=(
##########################################################################################
## Normal         Bold          Italic        Bold+Italic    #  Full name                #
##########################################################################################
#arial.ttf      arialbd.ttf    ariali.ttf     arialbi.ttf    # Arial
#ariblk.ttf                                                  # Arial Black
#bahnschrift.ttf                                             # Bahnschrift
#calibri.ttf    calibrib.ttf   calibrii.ttf   calibriz.ttf   # Calibri
#calibril.ttf                  calibrili.ttf                 # Calibri Light
#cambria.ttc    cambriab.ttf   cambriai.ttf   cambriaz.ttf   # Cambria
#comic.ttf      comicbd.ttf    comici.ttf     comicz.ttf     # Comic Sans MS
#consola.ttf    consolab.ttf   consolai.ttf   consolaz.ttf   # Consolas
#constan.ttf    constanb.ttf   constani.ttf   constanz.ttf   # Constantia
#cour.ttf       courbd.ttf     couri.ttf      courbi.ttf     # Courier New
#framd.ttf                     framdit.ttf                   # Franklin Gothic Medium
#Gabriola.ttf                                                # Gabriola
#georgia.ttf    georgiab.ttf   georgiai.ttf   georgiaz.ttf   # Georgia
#holomdl2.ttf                                                # HoloLens MDL2 Assets
#impact.ttf                                                  # Impact
#lucon.ttf                                                   # Lucida Console
#l_10646.ttf                                                 # Lucida Sans Unicode
#micross.ttf                                                 # Microsoft Sans Serifc
#pala.ttf       palab.ttf      palai.ttf      palabi.ttf     # Palatino Linotype
#segoepr.ttf    segoeprb.ttf                                 # Segoe Print
#segoesc.ttf    segoescb.ttf                                 # Segoe Script
#segmdl2.ttf                                                 # Segoe MDL2 Assets
#segoeui.ttf    segoeuib.ttf   segoeuii.ttf   segoeuiz.ttf   # Segoe UI
#seguibl.ttf                   seguibli.ttf                  # Segoe UI Black
#seguiemj.ttf                                                # Segoe UI Emoji
#seguihis.ttf                                                # Segoe UI Historic
#segoeuil.ttf                  seguili.ttf                   # Segoe UI Light
#seguisb.ttf                   seguisbi.ttf                  # Segoe UI Semibold
#segoeuisl.ttf                 seguisli.ttf                  # Segoe UI Semilight
#seguisym.ttf                                                # Segoe UI Symbol
#Sitka.ttc      SitkaB.ttc     SitkaI.ttc     SitkaZ.ttc     # Sitka
#sylfaen.ttf                                                 # Sylfaen
#symbol.ttf                                                  # Symbol
#tahoma.ttf     tahomabd.ttf                                 # Tahoma
#times.ttf      timesbd.ttf    timesi.ttf     timesbi.ttf    # Times New Roman
#trebuc.ttf     trebucbd.ttf   trebucit.ttf   trebucbi.ttf   # Trebuchet MS
#verdana.ttf    verdanab.ttf   verdanai.ttf   verdanaz.ttf   # Verdana
#webdings.ttf                                                # Webdings
#wingding.ttf                                                # Wingdings
#)

#_ttf_ms_win10_japanese=(
##########################################################################################
## Normal         Bold          Italic        Bold+Italic    #  Full name                #
##########################################################################################
#msgothic.ttc                                                # MS Gothic
#YuGothR.ttc   YuGothB.ttc                                   # Yu Gothic
#YuGothM.ttc                                                 # Yu Gothic Medium
#YuGothL.ttc                                                 # Yu Gothic Light
#)

#_ttf_ms_win10_korean=(
##########################################################################################
## Normal         Bold          Italic        Bold+Italic    #  Full name                #
##########################################################################################
#malgun.ttf     malgunbd.ttf                                 # Malgun Gothic
#malgunsl.ttf                                                # Malgun Gothic Semilight
#)

#_ttf_ms_win10_sea=(
##########################################################################################
## Normal         Bold          Italic        Bold+Italic    #  Full name                #
##########################################################################################
#javatext.ttf                                                # Javanese Text
#himalaya.ttf                                                # Microsoft Himalaya
#ntailu.ttf     ntailub.ttf                                  # Microsoft New Tai Lue
#phagspa.ttf    phagspab.ttf                                 # Microsoft PhagsPa
#taile.ttf      taileb.ttf                                   # Microsoft Tai Le
#msyi.ttf                                                    # Microsoft Yi Baiti
#monbaiti.ttf                                                # Mongolian Baiti
#mmrtext.ttf    mmrtextb.ttf                                 # Myanmar Text
#Nirmala.ttf    NirmalaB.ttf                                 # Nirmala UI
#NirmalaS.ttf                                                # Nirmala UI Semilight
#)

#_ttf_ms_win10_thai=(
##########################################################################################
## Normal         Bold          Italic        Bold+Italic    #  Full name                #
##########################################################################################
#LeelawUI.ttf   LeelaUIb.ttf                                 # Leelawadee UI
#LeelUIsl.ttf                                                # Leelawadee UI Semilight
#)

_ttf_ms_win10_zh_cn=( # Chinese (Simplified)
#########################################################################################
# Normal         Bold          Italic        Bold+Italic    #  Full name                #
#########################################################################################
simsun.ttc                                                  # NSimSun
simsunb.ttf                                                 # SimSun-ExtB
msyh.ttc       msyhbd.ttc                                   # Microsoft YaHei
msyhl.ttc                                                   # Microsoft YaHei Light
)

_ttf_ms_win10_zh_tw=( # Chinese (Traditional)
#########################################################################################
# Normal         Bold          Italic        Bold+Italic    #  Full name                #
#########################################################################################
msjh.ttc       msjhbd.ttc                                   # Microsoft JhengHei
msjhl.ttc                                                   # Microsoft JhengHei Light
mingliub.ttc                                                # MingLiU_HKSCS-ExtB
)

#_ttf_ms_win10_other=(
##########################################################################################
## Normal         Bold          Italic        Bold+Italic    #  Full name                #
##########################################################################################
#ebrima.ttf     ebrimabd.ttf                                 # Ebrima
#gadugi.ttf     gadugib.ttf                                  # Gadugi
#mvboli.ttf                                                  # MV Boli
#)

DLAGENTS=("file::/usr/bin/echo ${BOLD}${RED} Unable to find %u, please read the PKGBUILD ${ALL_OFF}" $DLAGENTS)

#source=(${_ttf_ms_win10[@]/#/file://}
        #${_ttf_ms_win10_japanese[@]/#/file://}
        #${_ttf_ms_win10_korean[@]/#/file://}
        #${_ttf_ms_win10_sea[@]/#/file://}
        #${_ttf_ms_win10_thai[@]/#/file://}
        #${_ttf_ms_win10_zh_cn[@]/#/file://}
        #${_ttf_ms_win10_zh_tw[@]/#/file://}
        #${_ttf_ms_win10_other[@]/#/file://}
        #file://license.rtf)

source=(git@gitlab.com:th3lusive/ms-win10-font.git)

_package() {
    cd "${srcdir}"
    conflicts+=(${pkgname/10/8} ttf-win7-fonts${pkgname##*10})

    install -Dm644 $@ -t "$pkgdir/usr/share/fonts/TTF"
    install -Dm644 license.rtf -t "$pkgdir/usr/share/licenses/$pkgname"
}

#package_ttf-ms-win10() {
#    cd "${srcdir}"
#    pkgdesc='Microsoft Windows 10 TrueType fonts'
#    provides+=(ttf-tahoma ttf-ms-fonts)
#    conflicts+=(ttf-tahoma ttf-ms-fonts)
#    _package ${_ttf_ms_win10[@]}
#}
#
#package_ttf-ms-win10-japanese() {
#    cd "${srcdir}"
#    pkgdesc='Microsoft Windows 10 Japanese TrueType fonts'
#    _package ${_ttf_ms_win10_japanese[@]}
#}
#
#package_ttf-ms-win10-korean() {
#    cd "${srcdir}"
#    pkgdesc='Microsoft Windows 10 Korean TrueType fonts'
#    _package ${_ttf_ms_win10_korean[@]}
#}
#
#package_ttf-ms-win10-sea() {
#    cd "${srcdir}"
#    pkgdesc='Microsoft Windows 10 Southeast Asian TrueType fonts'
#    _package ${_ttf_ms_win10_sea[@]}
#}
#
#package_ttf-ms-win10-thai() {
#    cd "${srcdir}"
#    pkgdesc='Microsoft Windows 10 Thai TrueType fonts'
#    _package ${_ttf_ms_win10_thai[@]}
#}

package_ttf-ms-win10-zh_cn() {
    cd "${srcdir}"
    pkgdesc='Microsoft Windows 10 Simplified Chinese TrueType fonts'
    _package ${_ttf_ms_win10_zh_cn[@]}
}

package_ttf-ms-win10-zh_tw() {
    cd "${srcdir}"
    pkgdesc='Microsoft Windows 10 Traditional Chinese TrueType fonts'
    _package ${_ttf_ms_win10_zh_tw[@]}
}

#package_ttf-ms-win10-other() {
#    cd "${srcdir}"
#    pkgdesc='Microsoft Windows 10 Other TrueType fonts'
#    _package ${_ttf_ms_win10_other[@]}
#}
md5sums=('SKIP')
